<md-dialog>
    <md-subheader>
        <md-icon md-svg-icon="/assets/material-design-icons/navigation/svg/production/ic_close_24px.svg" ng-click="cancel()" class="close"></md-icon>
        <h2>Register</h2>
    </md-subheader>
    <md-divider></md-divider>
    <md-dialog-content>
        <form name="registerForm" ng-controller="RegisterCtrl as user" ng-submit="registerForm.$valid && user.register()" novalidate>
            <div class="form-group">
                <md-input-container>
                    <label for="inputEmail">Email Address</label>
                    <input type="email" id="inputEmail" name="inputEmail" ng-model="user.credentials.email" validate required>
                    <div ng-messages="registerForm.inputEmail.$error" ng-if="registerForm.inputEmail.$touched && registerForm.inputEmail.$invalid">
                        <div ng-message="required">A valid email is required.</div>
                    </div>
                </md-input-container>
            </div>
            <div class="form-group">
                <md-input-container>
                    <label for="inputPassword">Password</label>
                    <input type="password" id="inputPassword" name="inputPassword" ng-model="user.credentials.password" validate minlength="8" required >
                    <div ng-messages="registerForm.inputPassword.$error" ng-if="registerForm.inputPassword.$touched && registerForm.inputPassword.$invalid">
                        <div ng-message="required">You must enter a password.</div>
                        <div ng-message="minlength">Passwords must be 8 characters in length.</div>
                    </div>
                </md-input-container>
            </div>
            <div class="form-group">
                <md-input-container>
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" ng-model="user.credentials.password_confirmation" validate minlength="8" required password-match="user.credentials.password">
                    <div ng-messages="registerForm.confirmPassword.$error" ng-if="registerForm.confirmPassword.$touched && registerForm.confirmPassword.$invalid">
                        <div ng-message="required">Password must be typed twice.</div>
                        <div ng-message="minlength">Passwords must be 8 characters in length.</div>
                        <div ng-message="unique">Passwords must match.</div>
                    </div>
                </md-input-container>
            </div>
            <div layout="row">
                <span flex></span>
                <md-button type="button" class="md-raised" ng-click="cancel()">Cancel</md-button>
                <md-button type="submit" class="md-primary md-raised">Register</md-button>
            </div>
            <div layout="row" layout-align="center center" layoutpadding>
                <a href="/users/confirmation/new">Resend Confirmation Email</a>
            </div>
        </form>
    </md-dialog-content>
</md-dialog>